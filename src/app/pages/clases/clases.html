<div class="p-6">

  <!-- T√≠tulo -->
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    Clases disponibles
  </h2>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center text-gray-500">
    Cargando clases...
  </div>

  <!-- Error -->
  <div *ngIf="error" class="text-red-600 text-center">
    {{ error }}
  </div>

  <!-- Grid de cards -->
  <div
    *ngIf="!loading && !error"
    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
  >

    <div
      *ngFor="let gymClass of gymClasses"
      class="bg-white rounded-2xl shadow-md overflow-hidden flex flex-col hover:shadow-lg transition relative"
    >
      <!-- Badge -->
      <span
        *ngIf="gymClass.isReservedByUser"
        class="absolute top-3 right-3 bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full"
      >
        Inscripto
      </span>

      <!-- Imagen -->
      <img
        [src]="gymClass.imageUrl"
        alt="Clase"
        class="h-40 w-full object-cover"
      />

      <!-- Contenido -->
      <div class="p-4 flex flex-col flex-1">
        <h3 class="text-lg font-semibold text-gray-800">
          {{ gymClass.nombre }}
        </h3>

        <p class="text-sm text-gray-600 mt-1 line-clamp-2">
          {{ gymClass.descripcion }}
        </p>

        <div class="mt-3 text-sm text-gray-700 space-y-1">
          <div>
            üìÖ {{ getDayName(gymClass.dia) }} ¬∑ ‚è∞ {{ gymClass.hora }}
          </div>
          <div>
            ‚è± {{ gymClass.duracionMinutos }} min
          </div>
        </div>

        <div class="flex-1"></div>

        <!-- Bot√≥n Reservar -->
        <button
          *ngIf="!gymClass.isReservedByUser"
          (click)="reserve(gymClass.id)"
          class="mt-4 w-full bg-green-600 text-white py-2 rounded-xl font-medium hover:bg-green-700 transition"
        >
          Reservar
        </button>

        <!-- Bot√≥n Cancelar -->
        <button
          *ngIf="gymClass.isReservedByUser"
          (click)="cancel(gymClass.id)"
          class="mt-4 w-full bg-red-600 text-white py-2 rounded-xl font-medium hover:bg-red-700 transition"
        >
          Cancelar reserva
        </button>
      </div>
    </div>

  </div>
</div>
