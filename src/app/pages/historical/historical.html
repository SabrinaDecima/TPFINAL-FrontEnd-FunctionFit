<div class="p-6 space-y-10">

  <!-- TÃTULO -->
  <div class="flex items-center gap-3">
    <i class="fas fa-history text-2xl text-blue-900"></i>
    <h2 class="text-2xl font-bold text-blue-900">Historial de Clases</h2>
  </div>

  <!-- MÃ‰TRICAS -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="bg-slate-800 rounded-2xl p-6 text-center shadow-lg">
      <p class="text-slate-400 text-sm">Clases Activas</p>
      <p class="text-3xl font-bold text-green-400">{{ activeCount }}</p>
    </div>

    <div class="bg-slate-800 rounded-2xl p-6 text-center shadow-lg">
      <p class="text-slate-400 text-sm">Canceladas</p>
      <p class="text-3xl font-bold text-red-400">{{ cancelledCount }}</p>
    </div>

    <div class="bg-slate-800 rounded-2xl p-6 text-center shadow-lg">
      <p class="text-slate-400 text-sm">Asistencia</p>
      <p class="text-3xl font-bold text-yellow-400">{{ attendancePercent }}%</p>
    </div>
  </div>

  <!-- BARRA DE PROGRESO -->
  <div class="bg-slate-800 rounded-2xl p-6 shadow-lg">
    <p class="text-slate-300 mb-3 font-semibold">Progreso mensual</p>

    <div class="w-full bg-slate-700 rounded-full h-4 overflow-hidden">
      <div
        class="h-4 bg-yellow-400 transition-all duration-500"
        [style.width.%]="attendancePercent">
      </div>
    </div>

    <p class="text-xs text-slate-400 mt-2">
      {{ activeCount }} de {{ totalClasses }} clases asistidas
    </p>
  </div>

  <!-- RACHA / LOGROS -->
  <div class="bg-slate-800 rounded-2xl p-6 shadow-lg">
    <div class="flex items-center gap-3 mb-4">
      <i class="fas fa-fire text-orange-400 text-xl"></i>
      <h3 class="text-lg font-semibold text-white">Racha actual</h3>
    </div>

    <p class="text-3xl font-bold text-orange-400">
      {{ streak }}
      <span class="text-base text-slate-400">clases seguidas</span>
    </p>

    <p class="text-sm text-slate-400 mt-2">
      Â¡SeguÃ­ asÃ­! EvitÃ¡ cancelar para mantener tu racha ðŸ”¥
    </p>
  </div>

  <!-- TIMELINE -->
  <div class="space-y-6">
    <div
      *ngFor="let item of history"
      class="relative pl-8 border-l-2 border-blue-900/40">

      <!-- punto -->
      <div
        class="absolute -left-[7px] top-6 w-3 h-3 rounded-full"
        [ngClass]="{
          'bg-green-500': item.status === 'Active',
          'bg-red-500': item.status === 'Cancelled'
        }">
      </div>

      <!-- card -->
      <div class="bg-slate-800 p-5 rounded-2xl shadow-lg flex items-center justify-between">
        <div>
          <p class="text-white font-semibold">{{ item.className }}</p>
          <p class="text-sm text-slate-400 mt-1">
            Clase: {{ item.classDate }} Â· AcciÃ³n: {{ item.actionDate }}
          </p>
        </div>

        <span
          class="px-4 py-1 rounded-full text-xs font-semibold"
          [ngClass]="{
            'bg-green-400/20 text-green-400': item.status === 'Active',
            'bg-red-400/20 text-red-400': item.status === 'Cancelled'
          }"
        >
          {{ item.status === 'Active' ? 'Activo' : 'Cancelado' }}
        </span>
      </div>
    </div>
  </div>

</div>
